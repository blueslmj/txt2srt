# 🚀 快速开始指南

5分钟内开始使用音频-文本对齐工具！

## 📥 第一步：安装

### ⚠️ 检查 Python 版本（重要！）

**系统要求**：Python 3.10-3.13

```bash
# 检查版本
python --version

# 或使用版本检查工具
PYTHON_VERSION_CHECK.bat
```

**推荐版本**：
- ✅ Python 3.12（推荐）
- ✅ Python 3.13（推荐）
- ⚠️ Python 3.11, 3.10（可用）
- ❌ Python 3.14（暂不支持）

**如果版本不对**：请查看 [INSTALL_FIX.md](INSTALL_FIX.md)

### 双击运行安装脚本
```bash
setup.bat
```

这个脚本会自动：
1. ✅ 检查Python版本
2. ✅ 创建Python虚拟环境
3. ✅ 安装所有必要的依赖包
4. ✅ 配置好运行环境

**等待时间**：首次安装大约需要3-5分钟

---

## 🎯 第二步：选择使用方式

### 方式A：Web界面（推荐）⭐

**启动**：
```bash
双击 start_ui.bat
```

**效果**：
- 浏览器自动打开美观的Web界面
- 地址：http://127.0.0.1:7860
- 支持拖拽上传文件

### 方式B：桌面界面

**启动**：
```bash
双击 start_tkinter_ui.bat
```

**效果**：
- 打开传统的桌面应用窗口
- 无需浏览器
- 界面简洁实用

---

## 🎬 第三步：使用工具

### Web界面使用流程

1. **上传音频** 📁
   - 拖拽音频文件到上传区
   - 或点击选择文件
   - 支持：MP3, WAV, M4A, FLAC, OGG等

2. **输入文本** 📝
   - 直接在文本框输入
   - 或上传.txt文件

3. **调整设置** ⚙️
   - 模型大小：Base（推荐）
   - 语言：zh（中文）

4. **开始处理** 🚀
   - 点击"开始处理"按钮
   - 等待几分钟
   - 查看生成的字幕预览

5. **下载结果** 📥
   - 点击下载按钮
   - 保存SRT字幕文件

### 桌面界面使用流程

1. **选择文件** 📁
   ```
   音频文件 → [浏览...] → 选择你的音频
   文本文件 → [浏览...] → 选择你的文本
   输出文件 → [浏览...] → 指定保存位置
   ```

2. **设置参数** ⚙️
   ```
   模型大小：base（快速）或 small/medium（更准确）
   语言：zh（中文）或 en（英文）
   ```

3. **点击"开始处理"** 🚀
   - 观察日志窗口的处理进度
   - 等待完成提示

---

## 💡 使用示例

### 示例1：为中文播客生成字幕

**准备文件**：
- 音频：`podcast.mp3`（你的播客音频）
- 文本：`script.txt`（播客文字稿）

**操作**：
1. 启动 `start_ui.bat`
2. 上传 `podcast.mp3`
3. 上传或粘贴播客文字稿
4. 模型选择：**Small**（推荐）
5. 语言：**zh**
6. 点击"开始处理"
7. 等待5-10分钟（取决于音频长度）
8. 下载生成的 `podcast.srt`

### 示例2：为英文视频生成字幕

**准备文件**：
- 音频：`video_audio.mp3`（从视频提取的音频）
- 文本：`transcript.txt`（英文台词）

**操作**：
1. 启动 `start_ui.bat`
2. 上传 `video_audio.mp3`
3. 粘贴英文台词
4. 模型选择：**Base**
5. 语言：**en**
6. 点击"开始处理"
7. 下载 `video_audio.srt`

### 示例3：快速测试（小文件）

**准备文件**：
- 使用项目中的 `sample_text.txt`
- 准备一个1-2分钟的测试音频

**操作**：
1. 启动 `start_ui.bat`
2. 上传测试音频
3. 上传 `sample_text.txt`
4. 模型选择：**Tiny**（最快）
5. 点击"开始处理"
6. 约30秒完成

---

## 📊 处理时间参考

| 音频长度 | 模型大小 | 预计时间 | 推荐场景 |
|---------|---------|---------|---------|
| 1-5分钟 | Tiny | 30秒-1分钟 | 快速测试 |
| 1-5分钟 | Base | 1-2分钟 | 日常使用 |
| 5-15分钟 | Base | 2-5分钟 | 日常使用 |
| 5-15分钟 | Small | 5-10分钟 | 高质量 |
| 15-30分钟 | Base | 5-10分钟 | 播客/讲座 |
| 15-30分钟 | Medium | 15-30分钟 | 专业制作 |

**提示**：
- 首次运行会下载模型（约140MB-1.5GB）
- 后续运行不需要重新下载
- 使用GPU会大幅提升速度

---

## ❓ 常见问题

### Q1: 首次启动很慢？
**A**: 正常现象，Whisper会下载模型文件（约140MB-2.9GB）。只需下载一次。

### Q2: 如何提高准确度？
**A**: 使用更大的模型（Small或Medium），确保音频质量清晰。

### Q3: 可以处理多长的音频？
**A**: 建议单个音频不超过30分钟。更长的音频建议分段处理。

### Q4: 支持哪些语言？
**A**: 支持99种语言，包括中文、英文、日语、韩语、法语等。

### Q5: Web界面无法打开？
**A**: 
1. 检查是否有其他程序占用7860端口
2. 尝试手动访问：http://127.0.0.1:7860
3. 查看命令行错误信息

### Q6: 生成的字幕时间不准？
**A**: 
1. 尝试使用更大的模型
2. 确保音频质量良好（无噪音）
3. 检查文本内容是否与音频匹配

---

## 🎓 进阶使用

### 批量处理多个文件

使用Python API（参考 `example.py`）：

```python
from txt2srt import align_audio_text, generate_srt

# 定义多个任务
tasks = [
    {"audio": "audio1.mp3", "text": "text1.txt", "output": "sub1.srt"},
    {"audio": "audio2.mp3", "text": "text2.txt", "output": "sub2.srt"},
]

# 批量处理
for task in tasks:
    with open(task["text"], 'r', encoding='utf-8') as f:
        text = f.read()
    
    segments = align_audio_text(task["audio"], text, model_name="base")
    generate_srt(segments, task["output"])
    print(f"完成: {task['output']}")
```

### 自定义后处理

```python
# 过滤太短的段落
segments = [seg for seg in segments if seg['end'] - seg['start'] >= 0.5]

# 合并相邻短段落
# 参考 example.py 中的 advanced_example()
```

---

## 📚 更多文档

- **详细UI使用说明**: [UI_GUIDE.md](UI_GUIDE.md)
- **完整功能文档**: [README.md](README.md)
- **代码示例**: [example.py](example.py)

---

## 🎉 开始使用

现在你已经了解了所有基础知识，开始使用吧！

```bash
# 最快捷的方式
双击 start_ui.bat
```

祝你使用愉快！🎊

